var Focus=pc.createScript("focus");Focus.prototype.initialize=function(){this.cameraEntity=this.app.root.findByName("Camera"),this.cursor=this.app.root.findByName("Cone"),this.app.on("tap",this.moveCamera,this)},Focus.p1=new pc.Vec3,Focus.p2=new pc.Vec3,Focus.prototype.moveCamera=function(t){var i=this.cameraEntity.getPosition();this.currentLookAtPosition=this.getCurrentLookAtPosition();var o=Focus.p1;o.copy(t).sub(this.currentLookAtPosition),this.targetPosition=Focus.p2,this.targetPosition.copy(i).add(o),this.updateCursorPosition(t)},Focus.prototype.updateCursorPosition=function(t){var i=Focus.p1;i.copy(t),i.y=this.cursor.getPosition().y,this.cursor.setPosition(i)},Focus.prototype.getCurrentLookAtPosition=function(){var t=this.cameraEntity.getPosition(),i=this.app.graphicsDevice.width/2,o=this.app.graphicsDevice.height/2,s=this.cameraEntity.camera.screenToWorld(i,o,this.cameraEntity.camera.farClip),r=this.app.systems.rigidbody.raycastFirst(t,s);return r?r.point:null},Focus.prototype.update=function(t){if(this.targetPosition){var i=this.cameraEntity.getPosition();i.lerp(i,this.targetPosition,5*t),this.cameraEntity.setPosition(i)}};var Input=pc.createScript("input");Input.prototype.initialize=function(){this.cameraEntity=this.app.root.findByName("Camera"),this.app.touch&&this.app.touch.on("touchstart",this._onTouchStart,this),this.app.mouse.on("mousedown",this._onMouseDown,this),this.on("destroy",(function(){this.app.touch&&this.app.touch.off("touchstart",this._onTouchStart,this),this.app.mouse.off("mousedown",this._onMouseDown,this)}),this)},Input.prototype._onTouchStart=function(t){1==t.touches.length&&this.onTap(t.touches[0]),t.event.preventDefault()},Input.prototype._onMouseDown=function(t){this.app.mouse.disableContextMenu(),t.button===pc.MOUSEBUTTON_LEFT&&this.onTap(t)},Input.prototype.onTap=function(t){var o=this.cameraEntity.getPosition(),i=this.cameraEntity.camera.screenToWorld(t.x,t.y,this.cameraEntity.camera.farClip),n=this.app.systems.rigidbody.raycastFirst(o,i);n&&this.app.fire("tap",n.point)};pc.script.createLoadingScreen((function(e){var t,a;t=["body {","    background-color: #283538;","}","","#application-splash-wrapper {","    position: absolute;","    top: 0;","    left: 0;","    height: 100%;","    width: 100%;","    background-color: #283538;","}","","#application-splash {","    position: absolute;","    top: calc(50% - 28px);","    width: 264px;","    left: calc(50% - 132px);","}","","#application-splash img {","    width: 100%;","}","","#progress-bar-container {","    margin: 20px auto 0 auto;","    height: 2px;","    width: 100%;","    background-color: #1d292c;","}","","#progress-bar {","    width: 0%;","    height: 100%;","    background-color: #f60;","}","","@media (max-width: 480px) {","    #application-splash {","        width: 170px;","        left: calc(50% - 85px);","    }","}"].join("\n"),(a=document.createElement("style")).type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t)),document.head.appendChild(a),function(){var e=document.createElement("div");e.id="application-splash-wrapper",document.body.appendChild(e);var t=document.createElement("div");t.id="application-splash",e.appendChild(t),t.style.display="none";var a=document.createElement("img");a.src="https://i.postimg.cc/5tk0Jg74/Logo-LISA-gray-284.png",t.appendChild(a),a.onload=function(){t.style.display="block"};var o=document.createElement("div");o.id="progress-bar-container",t.appendChild(o);var p=document.createElement("div");p.id="progress-bar",o.appendChild(p)}(),e.on("preload:end",(function(){e.off("preload:progress")})),e.on("preload:progress",(function(e){var t=document.getElementById("progress-bar");t&&(e=Math.min(1,Math.max(0,e)),t.style.width=100*e+"%")})),e.on("start",(function(){var e=document.getElementById("application-splash-wrapper");e.parentElement.removeChild(e)}))}));